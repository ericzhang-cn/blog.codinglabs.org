<!doctype html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="keep coding, keep foolish"/>
        <meta name="keywords" content="代码,数学,数据挖掘,机器学习,算法,编译器,分布式,PHP,Nginx"/>
        <meta name="author" content="张洋"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <title>CodingLabs - 期望、方差、协方差及相关系数的基本运算
</title>
        <link rel="stylesheet" href="/assets/vendor/normalize.css"/>
        <link rel="stylesheet" href="/assets/vendor/google-code-prettify/prettify-solarized-dark.css"/>
        <link rel="stylesheet" href="/assets/themes/default/main.css"/>
        <link rel="shortcut icon" href="/fav.ico"/>
        <script type="text/javascript" src="/assets/vendor/google-code-prettify/prettify.js"></script>
        <script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F75dfda8ff8a93fa0b94adeb17da37a2f' type='text/javascript'%3E%3C/script%3E"));
</script>

    </head>
    <body onload="prettyPrint()">
    <div id="header">
        <div id="header-inner">
            <div id="title"><a href="/">CodingLabs</a></div>
            <div id="subtitle">keep coding, keep foolish</div>
        </div>
    </div>

<div id="main">
    <div id="main-inner">
        <div id="topnav">
            <ul>
                <li><a href="/">首页</a></li>
                <li class="sep"> | </li>
                <li><a href="/tag.html">标签</a></li>
                
<li class="sep"> | </li>
<li><a href="/pages/about-me.html" target="_self">关于我</a></li>

<li class="sep"> | </li>
<li><a href="/rss.xml" target="_self">+订阅</a></li>

<li class="sep"> | </li>
<li><a href="http://weibo.com/ericzhangbuaa" target="_blank">微博</a></li>


            </ul>
            <div style="clear:both;"></div>
        </div>
        <div id="article-title">
            <a href="/articles/basic-statistics-calculate.html">期望、方差、协方差及相关系数的基本运算</a>
        </div>
        <div id="article-meta">
            作者 张洋 | 发布于 2013-06-05
        </div>
        <div id="article-tags">
        
        <a class="tag" href="/tag.html#概率">概率</a>
        
        <a class="tag" href="/tag.html#统计">统计</a>
        
        <a class="tag" href="/tag.html#数学">数学</a>
        
        </div>
        <div id="article-content">
            <p>这篇文章总结了概率统计中期望、方差、协方差和相关系数的定义、性质和基本运算规则。</p>
<h1 id="期望">期望</h1>
<h2 id="定义">定义</h2>
<p>设\(P(x)\)是一个离散概率分布函数，自变量的取值范围为\(\{x_1, x_2, \cdots, x_n\}\)。其期望被定义为：</p>
<p>\[E(x)=\sum_{k=1}^n{x_kP(x_k)}\]</p>
<p>设\(p(x)\)是一个连续概率密度函数。其期望为：</p>
<p>\[E(x)=\int_{-\infty}^{+\infty}{xp(x)dx}\]</p>
<h2 id="性质">性质</h2>
<p>1、线性运算规则</p>
<p>期望服从线性性质（可以很容易从期望的定义公式中导出）。因此线性运算的期望等于期望的线性运算：</p>
<p>\[E(ax+by+c)=aE(x)+bE(y)+c\]</p>
<p>这个性质可以推广到任意一般情况：</p>
<p>\[E(\sum_{k=1}^{n}{a_ix_i}+c)=\sum_{k=1}^{n}{a_iE(x_i)}+c\]</p>
<p>2、函数的期望</p>
<p>设\(f(x)\)为x的函数，则\(f(x)\)的期望为：</p>
<p>离散：</p>
<p>\[E(f(x))=\sum_{k=1}^n{f(x_k)P(x_k)}\]</p>
<p>连续：</p>
<p>\[E(f(x))=\int_{-\infty}^{+\infty}{f(x)p(x)dx}\]</p>
<p>一定要注意，<strong>函数的期望不等于期望的函数</strong>，即\(E(f(x)) \ne f(E(x))\)！。</p>
<p>3、乘积的期望</p>
<p>一般来说，<strong>乘积的期望不等于期望的乘积</strong>，除非变量相互独立。因此，如果x和y相互独立，则\(E(xy)=E(x)E(y)\)。</p>
<p>期望的运算构成了统计量的运算基础，因为<strong>方差、协方差等统计量本质上是一种特殊的期望</strong>。</p>
<h1 id="方差">方差</h1>
<h2 id="定义">定义</h2>
<p>方差是一种特殊的期望，被定义为：</p>
<p>\[Var(x)=E((x-E(x))^2)\]</p>
<h2 id="性质">性质</h2>
<p>1、展开表示</p>
<p>反复利用期望的线性性质，可以算出方差的另一种表示形式：</p>
<p>\[\begin{array}{l l l}
Var(x) &amp; = &amp; E((x-E(x))^2) \\
       &amp; = &amp; E(x^2-2xE(x)+(E(x))^2) \\
       &amp; = &amp; E(x^2)-2E(x)E(x)+(E(x))^2 \\
       &amp; = &amp; E(x^2)-2(E(x))^2+(E(x))^2 \\
       &amp; = &amp; E(x^2)-(E(x))^2
\end{array}\]</p>
<p>2、常数的方差</p>
<p>常数的方差为0，由方差的展开表示很容易推得。</p>
<p>3、线性组合的方差</p>
<p><strong>方差不满足线性性质</strong>，两个变量的线性组合方差计算方法如下：</p>
<p>\[Var(ax+by)=a^2Var(x)+b^2Var(y)+2Cov(x,y)\]</p>
<p>其中\(Cov(x,y)\)为x和y的协方差，下一节讨论。</p>
<p>4、独立变量的方差</p>
<p>如果两个变量相互独立，则：</p>
<p>\[Var(ax+by)=a^2Var(x)+b^2Var(y)\]</p>
<p>作为推论，如果x和y相互独立：\(Var(x+y)=Var(x)+Var(y)\)。</p>
<h1 id="协方差">协方差</h1>
<h2 id="定义">定义</h2>
<p>两个随机变量的协方差被定义为：</p>
<p>\[Cov(x,y)=E((x-E(x))(y-E(y)))\]</p>
<p>因此<strong>方差是一种特殊的协方差</strong>。当x=y时，\(Cov(x,y)=Var(x)=Var(y)\)。</p>
<h2 id="性质">性质</h2>
<p>1、独立变量的协方差</p>
<p>独立变量的协方差为0，可以由协方差公式推导出。</p>
<p>2、线性组合的协方差</p>
<p>协方差最重要的性质如下：</p>
<p>\[Cov(\sum_{i=1}^m{a_ix_i}, \sum_{j=1}^n{b_jy_j})=\sum_{i=1}^m{\sum_{j=1}^n{a_i b_j Cov(x_i, y_j)}}\]</p>
<p>很多协方差的计算都是反复利用这个性质，而且可以导出一些列重要结论。</p>
<p>作为一种特殊情况：</p>
<p>\[Cov(a+bx,c+dy)=bdCov(x,y)\]</p>
<p>另外当x=y时，可以导出方差的一般线性组合求解公式：</p>
<p>\[Var(\sum_{k=1}^n{a_ix_i})=\sum_{i=1}^n{\sum_{j=1}^n{a_ia_jCov(x_i,x_j)}}\]</p>
<h1 id="相关系数">相关系数</h1>
<h2 id="定义">定义</h2>
<p>相关系数通过方差和协方差定义。两个随机变量的相关系数被定义为：</p>
<p>\[Corr(x,y)=\frac{Cov(x,y)}{\sqrt{Var(x)Var(y)}}\]</p>
<h2 id="性质">性质</h2>
<p>1、有界性</p>
<p>相关系数的取值范围为-1到1，其可以看成是无量纲的协方差。</p>
<p>2、统计意义</p>
<p>值越接近1，说明两个变量正相关性（线性）越强，越接近-1，说明负相关性越强，当为0时表示两个变量没有相关性。</p>

        </div>
        <!-- UJian Button BEGIN -->
<div class="ujian-hook"></div>
<script type="text/javascript">var ujian_config = {num:12,picSize:84,textHeight:45};</script>
<script type="text/javascript" src="http://v1.ujian.cc/code/ujian.js?uid=894207"></script>
<a href="http://www.ujian.cc" style="border:0;"><img src="http://img.ujian.cc/pixel.png" alt="友荐云推荐" style="border:0;padding:0;margin:0;" /></a>
<!-- UJian Button END -->

<!-- 百度分享 BEGIN -->
<div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="bds_renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
<!-- 百度分享 END -->

<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="basic-statistics-calculate" data-title="期望、方差、协方差及相关系数的基本运算" data-url="http://blog.codinglabs.org/articles/basic-statistics-calculate.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"coding-labs"};
(function() {
 var ds = document.createElement('script');
 ds.type = 'text/javascript';ds.async = true;
 ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
 ds.charset = 'UTF-8';
 (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
 })();
</script>
<!-- 多说公共JS代码 end -->

    </div>
</div>
        <div id="footer">
            <div id="footer-inner">
                <p id="copyright">Copyright (c) 2011-2014 CodingLabs 本博客内容采用<a href="http://creativecommons.org/licenses/by/3.0/cn/" target="_blank">知识共享署名 3.0 中国大陆许可协议</a>进行许可</p>
              <p id="icp"><a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备12043064-1号</a></p>
            </div>
        </div>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [['$','$'], ['\\(','\\)']],
                    processEscapes: true
                }
            });
        </script>
        <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </body>
</html>

